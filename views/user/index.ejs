<%- include('partials/header')%>
<div id="main">
  <div class="categories flex flex-col">
    <div class="flex overflow-x-scroll hide-scroll-bar">
      <% for(let i=0;i < categories.length;i++) {%>
      <div class="mt-2 mb-0 flex flex-nowrap mx-2">
        <div class="inline-block px-2 category">
          <a
            href="/products?ID=<%=categories[i]._id%>&city=<%=city%>"
            style="color: black; text-decoration: none"
          >
            <div
              style="border-radius: 100%; height: 70px; width: 70px"
              class="img"
            >
              <!-- ADD CATEGORY IMAGES LOGIC HERE -->
              <img
                style="
                  border-radius: 100%;
                  object-fit: cover;
                  height: 100%;
                  width: 100%;
                "
                src="/user_UI/img/categories/<%=categories[i].categoryName %>.png"
                alt="<%=categories[i].categoryName %>"
              />
            </div>
            <p
              class="text-center"
              style="width: 70px; font-size: 14px; font-weight: 500"
            >
              <%= categories[i].categoryName%>
            </p>
          </a>
        </div>
      </div>
      <% }%>
    </div>
  </div>
  <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img
          class="d-block w-90"
          src="/user_UI/img/carousel/image1.svg"
          alt="First slide"
        />
      </div>
      <div class="carousel-item">
        <img
          class="d-block w-90"
          src="/user_UI/img/carousel/image2.svg"
          alt="Second slide"
        />
      </div>
      <div class="carousel-item">
        <img
          class="d-block w-90"
          src="/user_UI/img/carousel/image3.svg"
          alt="Third slide"
        />
      </div>
    </div>
    <a
      class="carousel-control-prev"
      href="#carouselExampleControls"
      role="button"
      data-slide="prev"
    >
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a
      class="carousel-control-next"
      href="#carouselExampleControls"
      role="button"
      data-slide="next"
    >
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>

  <div class="categoryBoxes lg:mx-40 md:mx-20 mx-10 text-black pt-4">
    <h4 class="text-center heading">offers</h4>
    <div class="flex flex-row justify-around flex-wrap">
      <% for(let i=0;i < offers.length;i++) {%>
      <div class="category-box flex flex-col flex-wrap">
        <div class="offer py-2 bg-blue-800 text-white text-center">
          <%= offers[i].offer %>
        </div>
        <!-- <div class="image-box">
                                <img src="/user_UI/img/carousel/image1.svg" alt="">
                            </div> ADD CATEGORY IMAGE HERE -->
        <div class="category-info font-bold text-center">
          <%= offers[i].category %>
        </div>
      </div>
      <% }%>
    </div>
  </div>
  <div
    style="background-color: rgb(255, 255, 255)"
    class="products lg:mx-40 md:mx-20 mx-10 text-black pt-4"
  >
    <h4 class="text-center heading">Trendings</h4>
    <div class="flex flex-row text-center justify-around flex-wrap">
      <% for(let i=0;i < trendings.length;i++) { %>
      <div class="product-box">
        <div class="img product-img-box">
          <img
            src="/store_UI/img/<%=trendings[i].images[0]%>"
            alt="no image available"
          />
        </div>
        <p><%= trendings[i].name %></p>
        <h5 class="font-bold">$<%= trendings[i].salePrice %></h5>
        <div class="buttons flex flex-col px-5">
          <% if(user && user.userType=='user' ) {%>
          <button
            class="btn btn-warning mb-2"
            onclick="AddToCart('<%= trendings[i]._id %>', '<%= user._id %>')"
          >
            <i class="fa-solid fa-cart-plus mr-3"></i> Add To Cart
          </button>
          <a
            href="/placeOrder?product_id=<%=trendings[i]._id%>"
            type="button"
            class="btn btn-secondary"
            ><i class="fa-solid fa-basket-shopping mr-3"></i> Buy Now</a
          >
          <% } else {%>
          <a href="/login" type="button" class="btn btn-warning mb-2" onclick=""
            ><i class="fa-solid fa-cart-plus mr-3"></i> Add To Cart</a
          >
          <a href="/login" type="button" class="btn btn-secondary"
            ><i class="fa-solid fa-basket-shopping mr-3"></i> Buy Now</a
          >(), <% } %>
        </div>
      </div>
      <% } %>
    </div>
  </div>
  <div
    style="background-color: rgb(255, 255, 255)"
    class="products lg:mx-40 md:mx-20 mx-10 text-black pt-4"
  >
    <h4 class="text-center heading">Top Deals</h4>
    <div
      style="background-color: transparent"
      class="flex flex-row text-center justify-around flex-wrap"
    >
      <% for(let i=0;i < topDeals.length;i++) {%>
      <div class="product-box">
        <div class="img product-img-box">
          <a href="/productDetail?ID=<%=topDeals[i]._id%>"
            ><img
              src="store_UI/img/<%=topDeals[i].images[0]%>"
              alt="no image available"
          /></a>
        </div>
        <p><%= topDeals[i].name %></p>
        <h5 class="font-bold"><%= topDeals[i].price %></h5>
        <div class="buttons flex flex-col px-5">
          <% if(user && user.userType=='user' ) {%>
          <button
            class="btn btn-warning mb-2"
            onclick="AddToCart('<%= topDeals[i]._id %>', '<%= user._id %>')"
          >
            <i class="fa-solid fa-cart-plus mr-3"></i> Add To Cart
          </button>
          <a
            href="/placeOrder?product_id=<%=topDeals[i]._id%>"
            type="button"
            class="btn btn-secondary"
            ><i class="fa-solid fa-basket-shopping mr-3"></i> Buy Now</a
          >
          <% } else {%>
          <a href="/login" type="button" class="btn btn-warning mb-2" onclick=""
            ><i class="fa-solid fa-cart-plus mr-3"></i> Add To Cart</a
          >
          <a href="/login" type="button" class="btn btn-secondary"
            ><i class="fa-solid fa-basket-shopping mr-3"></i> Buy Now</a
          >
          <% } %>
        </div>
      </div>
      <% } %>
    </div>
  </div>
</div>

<%- include('partials/footer')%>
